
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Unit Commitment &mdash; minpower</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1 alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://mathjax.connectmv.com/MathJax.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="minpower" href="index.html" />
    <link rel="next" title="Data Input" href="data-input.html" />
    <link rel="prev" title="Data Input" href="data-input.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24659622-2']);
  _gaq.push(['_trackPageview']);
</script>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

  </head>
  <body>  

    <div class="document">

      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="unit-commitment">
<h1>Unit Commitment<a class="headerlink" href="#unit-commitment" title="Permalink to this headline">¶</a></h1>
<p><abbr title="Unit Commitment">UC</abbr> tries to schedule generation to meet the system load for the next <abbr title="generally 12 or 24hrs">several hours</abbr> at lowest cost. <abbr title="Unit Commitment">UC</abbr>  adds a dimension of time to the <abbr title="Economic Dispatch">ED</abbr> problem, with the additional choice of turning generators on or off. The classic text is <a class="reference external" href="http://amzn.to/wood-wollenburg">Wood &amp; Wollenburg</a>.</p>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="the-problem">
<h2>The problem<a class="headerlink" href="#the-problem" title="Permalink to this headline">¶</a></h2>
<div class="optimizationproblem container">
<p><span class="math">\(\min \sum_t \sum_g C_g(P_{t,g}) + C_{\mathrm{su} (g)}(u_{t,g})\)</span></p>
<p><span class="math">\(\mathrm{s.t.} \; P_{\min (g)} \leq P_{t,g} \leq P_{\max (g)}  \; \forall  \; t,g  \; \mathrm{where}  \; u_{t,g}=1\)</span></p>
<p><span class="math">\(\mathrm{s.t.} \; \sum_g P_{t,g}= P_{\mathrm{load}(t)}  \; \forall  \; t\)</span></p>
<p><span class="math">\(\mathrm{s.t.} \; P_{\mathrm{ramp min} (g)} \leq P_{t,g}-P_{t-1,g} \leq P_{\mathrm{ramp max} (g)}    \; \forall  \; t,g\)</span></p>
</div>
<p>In this mathematical formulation generators are indexed by <span class="math">\(g\)</span> and time is indexed by <span class="math">\(t\)</span>. <span class="math">\(P_{t,g}\)</span> is a generator’s power output at time <span class="math">\(t\)</span> and <span class="math">\(u_{t,g}\)</span> is its operation status (on/off). <span class="math">\(C_g()\)</span> is the generator&#8217;s production cost function and <span class="math">\(C_{\mathrm{su} (g)}()\)</span> is its startup/shutdown cost. The objective is to minimize the total cost. The constraints are:</p>
<ul class="simple">
<li>each generator must be within its real power limits</li>
<li>total power generated must equal the power consumed by the load</li>
<li>each generator must be within its real power <abbr title="think acceleration in a car - you can't go from 0-60mph in one second. Similarly most generators cannot change their power output too quickly.">ramping</abbr> limits</li>
<li>each generator must be within its <abbr title="Nuclear and coal plants generally have especially long power up and cool down time constraints.">up/down time limits</abbr></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The last constraint is not shown in the formulation above <abbr title="it is a pain to show mathematically and is confusing to read. If you are interested, see the formulation used in the code.">due to complexity</abbr>. It requires keeping track of how many hours a generator has been on/off. For the actual formulation in use, see <a class="reference internal" href="documentation.html#powersystems.Generator.constraints" title="powersystems.Generator.constraints"><tt class="xref py py-meth docutils literal"><span class="pre">powersystems.Generator.constraints()</span></tt></a>.</p>
</div>
</div>
<div class="section" id="the-basics">
<h2>The basics<a class="headerlink" href="#the-basics" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s say you have made a folder called <tt class="docutils literal"><span class="pre">mycommitment</span></tt> and put <a class="reference internal" href="#commitment-inputs-example"><em>the information</em></a>
about your problem in the folder. Then if you run the script:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">minpower</span> <span class="kn">import</span> <span class="n">solve</span>
<span class="n">solve</span><span class="o">.</span><span class="n">directory</span><span class="p">(</span><span class="s">&#39;mycommitment/&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You get a plot:</p>
<blockquote>
<div><img alt="_static/demos/commitment/commitment.png" src="_static/demos/commitment/commitment.png" style="width: 500px;" />
</div></blockquote>
<p>This figure has two plots that share the same time axis. The top plot shows the <abbr title="The system price is generally determined by the most expensive committed generator and is in $/MWh. If you multiply the system load by the system price you get the cost to the system in $.">price of energy</abbr> for the system. The bottom plot shows the energy that each generator produces.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For only a few generators, <a class="reference internal" href="documentation.html#results.Solution_UC.vizualization" title="results.Solution_UC.vizualization"><tt class="xref py py-meth docutils literal"><span class="pre">results.Solution_UC.vizualization()</span></tt></a> displays a stack plot showing power for each generator. For more generators, the display is grouped by <tt class="xref py py-attr docutils literal"><span class="pre">kind</span></tt> (so that all the coal plants as one color, all the wind as another color, ...).</p>
</div>
<p>For this example we have two generators, one named <tt class="docutils literal"><span class="pre">cheap</span></tt> (which produces energy for $45/MWh) and one named <tt class="docutils literal"><span class="pre">expensive</span></tt> (which produces energy for $150/MWh). Obviously we only turn on the expensive generator after we can&#8217;t use the cheaper any more (its limit is 100MW for this example). So as the load goes up and over 100MW, the expensive generator is committed.</p>
<p>But why doesn&#8217;t the expensive generator turn back off at 6:00, when the load goes back down? It can&#8217;t turn off that quickly - it has a minimum up time of 2hrs and a minimum output of 20MW. But why does the price go back down? It&#8217;s complicated <a class="footnote-reference" href="#f1" id="id1">[1]</a>.</p>
<p>The data from the graph is also output in spreadsheet form:</p>
<blockquote>
<div><div class="highlight-python"><pre>times,prices,status: expensive,power: expensive,status: cheap,power: cheap,load power: small
2011-10-09 01:00:00,45.0,0.0,0.0,1.0,10.0,10
2011-10-09 02:00:00,45.0,0.0,0.0,1.0,10.0,10
2011-10-09 03:00:00,45.0,0.0,0.0,1.0,45.0,45
2011-10-09 04:00:00,45.0,0.0,0.0,1.0,90.0,90
2011-10-09 05:00:00,150.0,1.0,50.0,1.0,100.0,150
2011-10-09 06:00:00,45.0,1.0,5.0,1.0,85.0,90
2011-10-09 07:00:00,45.0,0.0,0.0,1.0,45.0,45
2011-10-09 08:00:00,45.0,0.0,0.0,1.0,10.0,10
2011-10-09 09:00:00,45.0,0.0,0.0,1.0,10.0,10
</pre>
</div>
</div></blockquote>
<p>Unlike <a class="reference internal" href="economic-dispatch.html"><em>ED</em></a> and <a class="reference internal" href="optimal-power-flow.html"><em>OPF</em></a> results, this spreadsheet is not particularly easy to read. It is meant more for machines than for humans. The spreadsheet gives status and energy output for each generator, along with the system energy price, for each time.</p>
<p>These outputs are saved in the <tt class="docutils literal"><span class="pre">mycommitment</span></tt> folder as <tt class="docutils literal"><span class="pre">commitment.png</span></tt> and <tt class="docutils literal"><span class="pre">commitment.csv</span></tt>.</p>
</div>
<div class="section" id="what-s-actually-going-on">
<h2>What&#8217;s actually going on?<a class="headerlink" href="#what-s-actually-going-on" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>It&#8217;s easy once you get the hang of it. <strong>minpower</strong> will:</dt>
<dd><ol class="first last arabic simple">
<li>read in your files (see <a class="reference internal" href="documentation.html#module-get_data" title="get_data"><tt class="xref py py-mod docutils literal"><span class="pre">get_data</span></tt></a>)</li>
<li>set up an optimization problem (see <a class="reference internal" href="documentation.html#solve.create_problem" title="solve.create_problem"><tt class="xref py py-func docutils literal"><span class="pre">solve.create_problem()</span></tt></a>)</li>
<li>send it off to a <a class="reference internal" href="solvers.html"><em>solver</em></a> (see <a class="reference internal" href="documentation.html#optimization.solve" title="optimization.solve"><tt class="xref py py-func docutils literal"><span class="pre">optimization.solve()</span></tt></a>)</li>
<li>show you the results (see <a class="reference internal" href="documentation.html#results.Solution_UC" title="results.Solution_UC"><tt class="xref py py-class docutils literal"><span class="pre">results.Solution_UC</span></tt></a>)</li>
</ol>
</dd>
</dl>
<p><strong>minpower</strong> just looks for the files in the <tt class="docutils literal"><span class="pre">mycommitment</span></tt> directory that describe the generators and load.</p>
<p id="commitment-inputs-example">Tell it the specifics of your problem by editing the generator file (<tt class="docutils literal"><span class="pre">generators.csv</span></tt>):</p>
<blockquote>
<div><div class="highlight-python"><pre>name,cost curve equation,min up time,P max,P min,startup cost
expensive,150P,2,500,5,0
cheap,45P,0,100,0,0
</pre>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Cost curves don&#8217;t have to be linear. See an example of polynomial cost curves in the <a class="reference internal" href="economic-dispatch.html#dispatch-inputs-example"><em>ED example</em></a> or see the documentation in <a class="reference internal" href="documentation.html#bidding.parsePolynomial" title="bidding.parsePolynomial"><tt class="xref py py-func docutils literal"><span class="pre">bidding.parsePolynomial()</span></tt></a>.</p>
</div>
<p>the initial generator state file (<tt class="docutils literal"><span class="pre">initial.csv</span></tt>):</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">name</span><span class="p">,</span><span class="n">P</span><span class="p">,</span><span class="n">status</span><span class="p">,</span><span class="n">hours</span> <span class="ow">in</span> <span class="n">status</span>
<span class="n">expensive</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
<span class="n">cheap</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span>
</pre></div>
</div>
</div></blockquote>
<p>the loads file (<tt class="docutils literal"><span class="pre">loads.csv</span></tt>):</p>
<blockquote>
<div><div class="highlight-python"><pre>name,schedule filename
small,small-changing-load.csv 
</pre>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You specify each changing load by a schedule file. You can also have loads with fixed power values, which are specified by <tt class="docutils literal"><span class="pre">P</span></tt>. For <abbr title="Unit Commitment">UC</abbr>, all loads are summed together to get the system load.</p>
</div>
<p>and in this case we just have one schedule file (<tt class="docutils literal"><span class="pre">small-changing-load.csv</span></tt>):</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="s">&quot;time&quot;</span><span class="p">,</span><span class="s">&quot;P&quot;</span>
<span class="s">&quot;1:00&quot;</span><span class="p">,</span><span class="s">&quot;10&quot;</span>
<span class="s">&quot;2:00&quot;</span><span class="p">,</span><span class="s">&quot;10&quot;</span>
<span class="s">&quot;3:00&quot;</span><span class="p">,</span><span class="s">&quot;45&quot;</span>
<span class="s">&quot;4:00&quot;</span><span class="p">,</span><span class="s">&quot;90&quot;</span>
<span class="s">&quot;5:00&quot;</span><span class="p">,</span><span class="s">&quot;150&quot;</span>
<span class="s">&quot;6:00&quot;</span><span class="p">,</span><span class="s">&quot;90&quot;</span>
<span class="s">&quot;7:00&quot;</span><span class="p">,</span><span class="s">&quot;45&quot;</span>
<span class="s">&quot;8:00&quot;</span><span class="p">,</span><span class="s">&quot;10&quot;</span>
<span class="s">&quot;9:00&quot;</span><span class="p">,</span><span class="s">&quot;10&quot;</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For more information about what options you can specify in each spreadsheet see: <a class="reference internal" href="data-input.html"><em>Data Input</em></a>.</p>
</div>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Generators at their limits can&#8217;t set the price. In the real world the monetary differences are dealt with via a system called &#8220;side payments&#8221;. In the example above a side payment of $105/MWh would be made to the more expensive generator for its second hour to make sure that it recovers its cost of operating for that hour.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">minpower</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="why-minpower.html">Why minpower?</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="students.html">For Students</a></li>
<li class="toctree-l1"><a class="reference internal" href="researchers.html">For Researchers</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="economic-dispatch.html">Economic Dispatch</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimal-power-flow.html">Optimal Power Flow</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Unit Commitment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data-input.html">Data Input</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-problem">The problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-basics">The basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-actually-going-on">What&#8217;s actually going on?</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="collaborate.html">Collaborate</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About minpower</a></li>
</ul>

<div class="plusone"><g:plusone annotation="none"></g:plusone></div>
<div id="searchbox" style="display: none">
  <h3>Search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </body>
</html>