
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Unit Commitment &mdash; minpower</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="minpower" href="index.html" />
    <link rel="next" title="Collaborate" href="collaborate.html" />
    <link rel="prev" title="Optimal Power Flow" href="optimal-power-flow.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24659622-2']);
  _gaq.push(['_trackPageview']);
</script>

  </head>
  <body>  

    <div class="document">

      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="unit-commitment">
<h1>Unit Commitment<a class="headerlink" href="#unit-commitment" title="Permalink to this headline">¶</a></h1>
<p><abbr title="Unit Commitment">UC</abbr> tries to schedule generation to meet the system load for the next <abbr title="generally 12 or 24hrs">several hours</abbr> at lowest cost. <abbr title="Unit Commitment">UC</abbr>  adds a dimension of time to the <abbr title="Economic Dispatch">ED</abbr> problem, with the additional choice of turning generators on or off. The classic text is <a class="reference external" href="http://amzn.to/wood-wollenburg">Wood &amp; Wollenburg</a>.</p>
<div class="section" id="the-problem">
<h2>The problem<a class="headerlink" href="#the-problem" title="Permalink to this headline">¶</a></h2>
<div class="optimizationproblem container">
<p><span class="math">\(\min \sum_t \sum_g C_g(P_{t,g}) + C_{\mathrm{su} (g)}(u_{t,g})\)</span></p>
<p><span class="math">\(\mathrm{s.t.} \; P_{\min (g)} \leq P_{t,g} \leq P_{\max (g)}  \; \forall  \; t,g  \; \mathrm{where}  \; u_{t,g}=1\)</span></p>
<p><span class="math">\(\mathrm{s.t.} \; \sum_g P_{t,g}= P_{\mathrm{load}(t)}  \; \forall  \; t\)</span></p>
<p><span class="math">\(\mathrm{s.t.} \; P_{\mathrm{ramp min} (g)} \leq P_{t,g}-P_{t-1,g} \leq P_{\mathrm{ramp max} (g)}    \; \forall  \; t,g\)</span></p>
</div>
<p>In this mathematical formulation generators are indexed by <span class="math">\(g\)</span> and time is indexed by <span class="math">\(t\)</span>. <span class="math">\(P_{t,g}\)</span> is a generator’s power output at time <span class="math">\(t\)</span> and <span class="math">\(u_{t,g}\)</span> is its operation status (on/off). <span class="math">\(C_g()\)</span> is the generator&#8217;s production cost function and <span class="math">\(C_{\mathrm{su} (g)}()\)</span> is its startup/shutdown cost. The objective is to minimize the total cost. The constraints are:</p>
<ul class="simple">
<li>each generator must be within its real power limits</li>
<li>total power generated must equal the power consumed by the load</li>
<li>each generator must be within its real power <abbr title="think acceleration in a car - you can't go from 0-60mph in one second. Similarly most generators cannot change their power output too quickly.">ramping</abbr> limits</li>
<li>each generator must be within its <abbr title="Nuclear and coal plants generally have especially long power up and cool down time constraints.">up/down time limits</abbr></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The last constraint is not shown in the formulation above <abbr title="it is a pain to show mathematically and is confusing to read. If you are interested, see the formulation used in the code.">due to complexity</abbr>. For the actual formulation in use, see <tt class="xref py py-meth docutils literal"><span class="pre">powersystems.Generator.create_constraints()</span></tt>.</p>
</div>
</div>
<div class="section" id="example-problem">
<h2>Example Problem<a class="headerlink" href="#example-problem" title="Permalink to this headline">¶</a></h2>
<p>To define a simple <abbr title="Unit Commitment">UC</abbr> problem, <strong>Minpower</strong> requires at least three spreadsheets. The first describes the generator parameters (<a class="reference external" href="https://github.com/adamgreenhall/minpower/blob/master/minpower/tests/uc-WW-5-2/generators.csv">generators.csv</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&quot;name&quot;</span><span class="p">;</span><span class="s">&quot;Pmin&quot;</span><span class="p">;</span><span class="s">&quot;Pmax&quot;</span><span class="p">;</span><span class="s">&quot;heat rate equation&quot;</span><span class="p">;</span><span class="s">&quot;fuel cost&quot;</span><span class="p">;</span><span class="s">&quot;start up cost&quot;</span><span class="p">;</span><span class="s">&quot;min up time&quot;</span><span class="p">;</span><span class="s">&quot;min down time&quot;</span>
<span class="s">&quot;g1&quot;</span><span class="p">;</span><span class="mi">50</span><span class="p">;</span><span class="mi">200</span><span class="p">;</span><span class="s">&quot;220+9.9P&quot;</span><span class="p">;</span><span class="mf">1.4</span><span class="p">;</span><span class="mi">560</span><span class="p">;</span><span class="mi">8</span><span class="p">;</span><span class="mi">8</span>
<span class="s">&quot;g2&quot;</span><span class="p">;</span><span class="mi">15</span><span class="p">;</span><span class="mi">60</span><span class="p">;</span><span class="s">&quot;80+10.1P&quot;</span><span class="p">;</span><span class="mf">1.4</span><span class="p">;</span><span class="mi">210</span><span class="p">;</span><span class="mi">8</span><span class="p">;</span><span class="mi">8</span>
<span class="s">&quot;g3&quot;</span><span class="p">;</span><span class="mi">15</span><span class="p">;</span><span class="mi">50</span><span class="p">;</span><span class="s">&quot;60+10.8P&quot;</span><span class="p">;</span><span class="mf">1.4</span><span class="p">;</span><span class="mi">147</span><span class="p">;</span><span class="mi">4</span><span class="p">;</span><span class="mi">4</span>
<span class="s">&quot;g4&quot;</span><span class="p">;</span><span class="mi">5</span><span class="p">;</span><span class="mi">40</span><span class="p">;</span><span class="s">&quot;40+11.9P&quot;</span><span class="p">;</span><span class="mf">1.4</span><span class="p">;</span><span class="mi">0</span><span class="p">;</span><span class="mi">4</span><span class="p">;</span><span class="mi">4</span>
<span class="s">&quot;g5&quot;</span><span class="p">;</span><span class="mi">5</span><span class="p">;</span><span class="mi">25</span><span class="p">;</span><span class="s">&quot;34+12.14P&quot;</span><span class="p">;</span><span class="mf">1.4</span><span class="p">;</span><span class="mi">0</span><span class="p">;</span><span class="mi">4</span><span class="p">;</span><span class="mi">4</span>
</pre></div>
</div>
<p>The second simply describes which loads exist on the system and where there schedule files are (<a class="reference external" href="https://github.com/adamgreenhall/minpower/blob/master/minpower/tests/uc-WW-5-2/loads.csv">loads.csv</a>):</p>
<div class="highlight-python"><pre>name,schedule filename
example,load-pattern.csv
</pre>
</div>
<p>The other spreadsheets describe the load (or non-controllable generation) energy schedules. In this case (<a class="reference external" href="https://github.com/adamgreenhall/minpower/blob/master/minpower/tests/uc-WW-5-2/load-pattern.csv">load-pattern.csv</a>):</p>
<div class="highlight-python"><pre>time,power
0:00,250
2:00,320
4:00,110
6:00,75</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For more information about what options you can specify in each spreadsheet see: <a class="reference internal" href="creating-problems.html"><em>Creating a Problem</em></a>.</p>
</div>
</div>
<div class="section" id="solving">
<h2>Solving<a class="headerlink" href="#solving" title="Permalink to this headline">¶</a></h2>
<p>Save the two spreadsheets above into into a folder (call it <tt class="docutils literal"><span class="pre">mycommitment</span></tt>) and run:</p>
<div class="highlight-python"><pre>minpower mycommitment</pre>
</div>
<p>This particular problem is also <strong>Minpower</strong> built-in test case (based on <a class="reference external" href="http://amzn.to/wood-wollenburg">Wood &amp; Wollenburg</a> Problem 5.2), so if you haven&#8217;t been following along, to solve it, call:</p>
<div class="highlight-python"><pre>minpower uc-WW-5-2</pre>
</div>
</div>
<div class="section" id="example-solution">
<h2>Example Solution<a class="headerlink" href="#example-solution" title="Permalink to this headline">¶</a></h2>
<p>The result is a plot (<tt class="docutils literal"><span class="pre">commitment.png</span></tt>):</p>
<blockquote>
<div><img alt="./_static/demos/commitment/commitment.png" src="./_static/demos/commitment/commitment.png" style="width: 500px;" />
</div></blockquote>
<p>This figure has two axes that share the same time axis. The top axes shows the <abbr title="The system price is generally determined by the dual of the energy constraint in the optimization problem and is in $/MWh.">price of energy</abbr> for the system. The bottom axes shows the energy that each generator produces.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For only a few generators, <tt class="xref py py-meth docutils literal"><span class="pre">results.Solution_UC.vizualization()</span></tt> displays a stack plot showing power for each generator. For more generators, the display is grouped by <tt class="xref py py-attr docutils literal"><span class="pre">kind</span></tt> (so that all the coal plants as one color, all the wind as another color, ...).</p>
</div>
<p>For this example we have two generators, one named <tt class="docutils literal"><span class="pre">cheap</span></tt> (which produces energy for $45/MWh) and one named <tt class="docutils literal"><span class="pre">expensive</span></tt> (which produces energy for $150/MWh). Obviously we only turn on the expensive generator after we can&#8217;t use the cheaper any more (its limit is 100MW for this example). So as the load goes up and over 100MW, the expensive generator is committed.</p>
<p>But why doesn&#8217;t the expensive generator turn back off at 6:00, when the load goes back down? It can&#8217;t turn off that quickly - it has a minimum up time of 2hrs and a minimum output of 20MW. But why does the price go back down? It&#8217;s complicated <a class="footnote-reference" href="#f1" id="id2">[1]</a>.</p>
<p>The data from the graph is also output in spreadsheet form (<tt class="docutils literal"><span class="pre">commitment.csv</span></tt>):</p>
<blockquote>
<div><div class="highlight-python"><pre>times,prices,status: g1,power: g1,status: g2,power: g2,status: g3,power: g3,status: g4,power: g4,status: g5,power: g5,load power: example
2012-09-12 00:00:00,14.14,True,200.0,True,50.0,False,0.0,False,0.0,False,0.0,250
2012-09-12 02:00:00,16.996,True,200.0,True,60.0,False,0.0,True,40.0,True,20.0,320
2012-09-12 04:00:00,16.996,False,0.0,True,60.0,False,0.0,True,40.0,True,10.0,110
2012-09-12 06:00:00,16.996,False,0.0,True,60.0,False,0.0,False,0.0,True,15.0,75
</pre>
</div>
</div></blockquote>
<p>Unlike <a class="reference internal" href="economic-dispatch.html"><em>ED</em></a> and <a class="reference internal" href="optimal-power-flow.html"><em>OPF</em></a> results, this spreadsheet is not particularly easy to read. It is meant more for machines than for humans. The spreadsheet gives status and energy output for each generator, along with the system energy price, for each time.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>Generators at their limits can&#8217;t set the price. In the real world the monetary differences are dealt with via a system called &#8220;side payments&#8221;. In the example above a side payment of $105/MWh would be made to the more expensive generator for its second hour to make sure that it recovers its cost of operating for that hour.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">minpower</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="why-minpower.html">Why Minpower</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="basic-use.html">Basic Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating-problems.html">Creating a Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="students.html">For Students</a></li>
<li class="toctree-l1"><a class="reference internal" href="researchers.html">For Researchers</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="economic-dispatch.html">Economic Dispatch</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimal-power-flow.html">Optimal Power Flow</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Unit Commitment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-problem">The problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-problem">Example Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="#solving">Solving</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-solution">Example Solution</a></li>
</ul>
</li>
</ul>
<ul class="simple">
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="collaborate.html">Collaborate</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About minpower</a></li>
</ul>


<div id="searchbox" style="display: none">
  <h3>Search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<!--<div class="social">-->
<!--<div class="twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="minpowertoolkit.com" data-count="none" data-via="adamgreenhall">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script></div>-->
<!--</div>-->
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    
  })();
</script>

  </body>
</html>