(function(){var doc=document,disableBuilds=!1,disableNotes=!1,ctr=0,spaces=/\s+/,a1=[""],toArray=function(a){return Array.prototype.slice.call(a||[],0)},byId=function(a){return typeof a=="string"?doc.getElementById(a):a},query=function(a,b){return queryAll(a,b)[0]},queryAll=function(a,b){if(!a)return[];if(typeof a!="string")return toArray(a);if(typeof b=="string"){b=byId(b);if(!b)return[]}b=b||document;var c=b.nodeType==9,d=c?b:b.ownerDocument||document;if(!c||">~+".indexOf(a.charAt(0))>=0)b.id=b.id||"qUnique"+ctr++,a="#"+b.id+" "+a;return">~+".indexOf(a.slice(-1))>=0&&(a+=" *"),toArray(d.querySelectorAll(a))},strToArray=function(a){return typeof a=="string"||a instanceof String?a.indexOf(" ")<0?(a1[0]=a,a1):a.split(spaces):a},trim=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass=function(a,b){b=strToArray(b);var c=" "+a.className+" ";for(var d=0,e=b.length,f;d<e;++d)f=b[d],f&&c.indexOf(" "+f+" ")<0&&(c+=f+" ");a.className=trim(c)},removeClass=function(a,b){var c;if(b!==undefined){b=strToArray(b),c=" "+a.className+" ";for(var d=0,e=b.length;d<e;++d)c=c.replace(" "+b[d]+" "," ");c=trim(c)}else c="";a.className!=c&&(a.className=c)},toggleClass=function(a,b){var c=" "+a.className+" ";c.indexOf(" "+trim(b)+" ")>=0?removeClass(a,b):addClass(a,b)},testStyle=function(a){var b=document.createElement("div"),c=["Webkit","Moz","O","ms","Khtml"],d,e=function(a,b){return b.toUpperCase()},f;d=a in b.style,f=a.replace(/^(.)/,e).replace(/-([a-z])/ig,e);for(var g=c.length;g--;){if(d)break;d=c[g]+f in b.style}return document.documentElement.className+=" "+(d?"":"no-")+a.replace(/-/g,""),d},canTransition=testStyle("transition"),Slide=function(a,b){this._node=a;var c=query(".note > section",a);this._speakerNote=c?c.innerHTML:"",b>=0&&(this._count=b+1),this._node&&addClass(this._node,"slide distant-slide"),this._makeCounter(),this._makeBuildList()};Slide.prototype={_node:null,_count:0,_buildList:[],_visited:!1,_currentState:"",_states:["distant-slide","far-past","past","current","future","far-future","distant-slide"],setState:function(a){typeof a!="string"&&(a=this._states[a]),a=="current"&&!this._visited&&(this._visited=!0,this._makeBuildList()),removeClass(this._node,this._states),addClass(this._node,a),this._currentState=a;var b=this;setTimeout(function(){b._runAutos()},400),a=="current"?this._onLoad():this._onUnload()},_onLoad:function(){this._fireEvent("onload"),this._showFrames()},_onUnload:function(){this._fireEvent("onunload"),this._hideFrames()},_fireEvent:function(name){var eventSrc=this._node.getAttribute(name);if(eventSrc){eventSrc="(function() { "+eventSrc+" })";var fn=eval(eventSrc);fn.call(this._node)}},_showFrames:function(){function b(){a.forEach(function(a){var b=a.getAttribute("_src");b&&b.length&&(a.src=b)})}var a=queryAll("iframe",this._node);setTimeout(b,0)},_hideFrames:function(){function b(){a.forEach(function(a){var b=a.getAttribute("_src");b&&b.length&&(a.src="")})}var a=queryAll("iframe",this._node);setTimeout(b,250)},_makeCounter:function(){if(!this._count||!this._node)return;var a=doc.createElement("span");a.className="counter",this._node.appendChild(a)},_makeBuildList:function(){this._buildList=[];if(disableBuilds)return;this._node&&(this._buildList=queryAll("[data-build] > *",this._node)),this._buildList.forEach(function(a){addClass(a,"to-build")})},_runAutos:function(){if(this._currentState!="current")return;var a=-1;this._buildList.some(function(b,c){return b.hasAttribute("data-auto")?(a=c,!0):!1});if(a>=0){var b=this._buildList.splice(a,1)[0],c=this;if(canTransition){var d=function(a){b.parentNode.removeEventListener("webkitTransitionEnd",d,!1),b.parentNode.removeEventListener("transitionend",d,!1),b.parentNode.removeEventListener("oTransitionEnd",d,!1),c._runAutos()};b.parentNode.addEventListener("webkitTransitionEnd",d,!1),b.parentNode.addEventListener("transitionend",d,!1),b.parentNode.addEventListener("oTransitionEnd",d,!1),removeClass(b,"to-build")}else setTimeout(function(){removeClass(b,"to-build"),c._runAutos()},400)}},getSpeakerNote:function(){return this._speakerNote},buildNext:function(){return this._buildList.length?(removeClass(this._buildList.shift(),"to-build"),!0):!1}};var SlideShow=function(a){this._slides=(a||[]).map(function(a,b){return new Slide(a,b)});var b=window.location.hash;try{this.current=b}catch(c){}this.current=this.current?this.current.replace("#",""):"start",query("#"+this.current)||(console.log("The format of the permalinks have recently changed. If you are coming here from an old external link it's very likely you will land to the wrong slide"),this.current="start");var d=this;doc.addEventListener("keydown",function(a){d.handleKeys(a)},!1),doc.addEventListener("touchstart",function(a){d.handleTouchStart(a)},!1),doc.addEventListener("touchend",function(a){d.handleTouchEnd(a)},!1),window.addEventListener("popstate",function(a){a.state&&d.go(a.state,!0)},!1),this._update(),queryAll("#nav-prev, #nav-next").forEach(function(a){a.addEventListener("click",d.onNavClick.bind(d),!1)}),queryAll("menu button").forEach(function(a){a.addEventListener("click",d.onCommandClick.bind(d),!1)})};SlideShow.prototype={_presentationCounter:query("#presentation-counter"),_menuCounter:query("#slide-no"),_speakerNote:query("#speaker-note"),_help:query("#help"),_slides:[],_themes:queryAll(".theme"),_getCurrentIndex:function(){var a=this,b=null;return queryAll(".slide").forEach(function(c,d){c.id==a.current&&(b=d)}),b+1},_update:function(a,b){var c=this._getCurrentIndex();if(a){var d=c;this.current=a,c=this._getCurrentIndex();if(Math.abs(d-c)>1)for(var e=d;e<d+7;e++)this._slides[e-4]&&this._slides[e-4].setState(0)}var f=document.documentElement,g=document.elementFromPoint(f.clientWidth/2,f.clientHeight/2);g&&g.className!="presentation"&&(console.log(this._help),console.log(this._presentationCounter),console.log(this._presentationCounter.textContent),this._presentationCounter.textContent=c,this._menuCounter&&(this._menuCounter.textContent=c));var h=this._slides[c-1].getSpeakerNote();h&&(this._speakerNote.innerHTML=h),history.pushState?b||history.pushState(this.current,"Slide "+this.current,"#"+this.current):window.location.hash=this.current;for(var e=c;e<c+7;e++)this._slides[e-4]&&this._slides[e-4].setState(e-c)},current:0,next:function(){if(!this._slides[this._getCurrentIndex()-1].buildNext()){var a=query("#"+this.current+" + .slide");this._update(a?a.id:this.current)}},prev:function(){var a=query(".slide:nth-child("+(this._getCurrentIndex()-1)+")");this._update(a?a.id:this.current)},go:function(a,b){this._update(a,b)},showNotes:function(){if(disableNotes)return;this._speakerNote.style.display="block",this._speakerNote.classList.toggle("invisible")},switch3D:function(){toggleClass(document.body,"three-d")},toggleHightlight:function(){var a=query("#prettify-link");a.disabled=!a.disabled,sessionStorage.highlightOn=!a.disabled},changeTheme:function(){var a=0;while(this._themes[a].disabled)a++;this._themes[a].disabled=!0;var b=this._themes[(a+1)%this._themes.length];b.disabled=!1,sessionStorage.theme=b.getAttribute("link_href").split("/").pop()},toggleHelp:function(){this._help.style.display="block",this._help.classList.toggle("invisible")},viewSource:function(){window.open("view-source:"+window.location.href)},handleKeys:function(a){if(/^(input|textarea)$/i.test(a.target.nodeName)||a.target.isContentEditable)return;switch(a.keyCode){case 37:this.prev();break;case 39:case 32:this.next();break;case 48:this.toggleHelp();break;case 51:this.switch3D();break;case 72:this.toggleHightlight();break;case 78:this.showNotes();break;case 83:this.viewSource();break;case 84:this.changeTheme()}},_touchStartX:0,handleTouchStart:function(a){this._touchStartX=a.touches[0].pageX},handleTouchEnd:function(a){var b=this._touchStartX-a.changedTouches[0].pageX,c=150;b>c?this.next():b<-c&&this.prev()},onNavClick:function(a){a.target.id=="nav-prev"?this.prev():(a.target.id="nav-next")&&this.next()},onCommandClick:function(a){var b=a.target.getAttribute("data-command");switch(b){case"toc":this._update("table-of-contents");break;case"resources":break;case"notes":this.showNotes();break;case"source":this.viewSource();break;case"help":this.toggleHelp();break;default:return}}},console.log(queryAll(".slide"));var slideshow=new SlideShow(queryAll(".slide"));document.addEventListener("DOMContentLoaded",function(){query(".slides").style.display="block"},!1),queryAll("#toc-list li a").forEach(function(a){a.onclick=function(){slideshow.go(a.dataset.hash)}})})()